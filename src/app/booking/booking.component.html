

<div class="container">

    <form (ngSubmit)="checkout()" class="booking row" [formGroup]="form">
      <div class="col-lg-6">
        <div>
          <label>From</label>
          <span>
<svg  viewBox="0 -24 487.38118 487"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><linearGradient id="a" gradientUnits="userSpaceOnUse" x1="32.836306" x2="444.268306" y1="67.419861" y2="478.843861"><stop offset="0" stop-color="#662d91"/><stop offset=".437" stop-color="#3873b3"/><stop offset="1" stop-color="#00c9dd"/></linearGradient><path d="m472.226562 110.148438-47.726562-18.289063c-12.945312-4.953125-27.148438-5.578125-40.480469-1.785156l-52.640625 14.335937-165.039062-103c-1.921875-1.210937-4.269532-1.539062-6.449219-.902344l-37.214844 10.726563c-2.632812.761719-4.691406 2.820313-5.457031 5.449219-.765625 2.632812-.132812 5.472656 1.679688 7.527344l98.144531 111.335937-97.726563 26.617187-76-72.953124c-2.058594-1.976563-5.015625-2.710938-7.761718-1.917969l-29.765626 8.582031c-2.367187.683594-4.289062 2.414062-5.210937 4.699219-.917969 2.285156-.734375 4.867187.5 6.996093l43.34375 74.984376-27.488281 7.488281c-3.410156.929687-5.804688 3.988281-5.890625 7.519531-.089844 3.53125 2.148437 6.703125 5.503906 7.800781l37.351563 12.175781-7.308594 74.671876c-.226563 2.257812.511718 4.503906 2.039062 6.183593 1.523438 1.675781 3.691406 2.628907 5.960938 2.617188.75.003906 1.496094-.101563 2.214844-.3125l22.328124-6.398438c2.1875-.632812 4.003907-2.164062 4.992188-4.21875l26.09375-54.15625c14 3.871094 28.460938 5.835938 42.984375 5.839844 9.089844.164063 18.160156-.914063 26.960937-3.203125l55.558594-16-21.558594 132.210938c-.375 2.3125.285157 4.675781 1.804688 6.460937 1.519531 1.789063 3.746094 2.816406 6.089844 2.816406.75 0 1.496094-.105469 2.21875-.3125l37.214844-10.726562c2.179687-.628907 3.992187-2.152344 4.984374-4.191407l76.222657-157.152343 127.730469-36.800781c9.714843-2.855469 16.523437-11.589844 16.933593-21.707032.40625-10.117187-5.683593-19.367187-15.136719-22.996094zm-436.664062-6.199219 64.683594 62.078125-40.203125 11.585937-40-69.195312zm103.683594-80.839844 21.644531-6.242187 149.457031 93.273437-76.113281 20.726563zm-68 256.796875-7.570313 2.1875 6.503907-66.402344 37.128906-10.679687zm182.398437 58.753906-21.648437 6.238282 26.238281-161.3125 82.097656-23.695313zm212.351563-199.183594-113.902344 32.800782 10.460938-21.601563c1.390624-2.84375.976562-6.238281-1.058594-8.660156s-5.308594-3.417969-8.347656-2.539063l-81.878907 23.597657-22.335937 6.402343c-2.972656.855469-5.183594 3.347657-5.679688 6.398438l-4.730468 29.136719-62.824219 18.136719c-19.359375 3.835937-39.339844 3.167968-58.398438-1.945313l12.230469-25.390625c1.371094-2.84375.941406-6.226562-1.09375-8.636719-2.035156-2.410156-5.296875-3.398437-8.328125-2.523437l-59.609375 17.160156c-.460938.160156-.90625.363281-1.328125.605469l-12.222656-4 341.390625-92.933594c10.011718-2.855469 20.675781-2.394531 30.402344 1.3125l8.527343 3.261719-46.539062 13.417968 4.425781 15.375 66.910156-19.289062 14.402344 5.53125c2.230469.863281 3.929688 2.722656 4.589844 5.023438 1.175781 3.980468-1.085938 8.164062-5.0625 9.359374zm-461.496094 283.136719h480v16h-480zm0 0" fill="url(#a)"/></svg>      </span>

          <mat-form-field>
            <input
              type="text"
              placeholder="Choose city"
              name="from"
              aria-label="Number"
              matInput
              formControlName="from"
              [matAutocomplete]="auto"
            />
            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
              <mat-option *ngFor="let option of fromChoices" [value]="option">
                {{ option.value }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
        <div>
          <label>date</label>

          <mat-form-field class="date">
            <input
              matInput
              [matDatepicker]="picker3"
              name="date"
              placeholder="Choose a date"
              formControlName="date"
            />
            <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
            <mat-datepicker #picker3></mat-datepicker>
          </mat-form-field>
        </div>
        <div>
          <label>Number of passengers</label>
          <mat-form-field class="date">
            <input
              type="text"
              placeholder="choose number"
              aria-label="Number"
              matInput
              disabled
              formControlName="passengers"
              [matAutocomplete]="uto"
            />
            <mat-autocomplete #uto="matAutocomplete">
              <mat-option
                *ngFor="let number of numbers; let i; of: index"
                value="{{ i }}"
              >
                {{ number }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>

      </div>
      <div class="col-lg-6">
        <label>To</label>

        <span>
    <svg  viewBox="0 -11 485.55584 485"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><linearGradient id="a" gradientUnits="userSpaceOnUse" x1="-16.372161" x2="420.867839" y1="91.369051" y2="528.609051"><stop offset="0" stop-color="#662d91"/><stop offset=".437" stop-color="#3873b3"/><stop offset="1" stop-color="#00c9dd"/></linearGradient><path d="m29.722656 231.714844c.59375.140625 1.199219.207031 1.808594.207031 1.632812-.003906 3.222656-.503906 4.5625-1.433594l51.199219-35.605469c17.382812 17.414063 38.757812 30.320313 62.261719 37.597657l58.984374 13.601562-86.183593 107.933594c-1.722657 2.148437-2.21875 5.03125-1.3125 7.632813.902343 2.597656 3.078125 4.550781 5.761719 5.167968l39.199218 9.074219c2.195313.503906 4.5.0625 6.351563-1.21875l148.398437-102.621094 89.457032 20.671875-6.109376 12.222656c-2.125-.648437-4.328124-.992187-6.546874-1.023437-11.085938-.035156-20.761719 7.503906-23.4375 18.261719-2.679688 10.761718 2.335937 21.957031 12.144531 27.121094 9.808593 5.167968 21.875 2.96875 29.234375-5.324219 7.355468-8.292969 8.101562-20.535157 1.804687-29.660157l8.949219-17.902343 29.304688 6.773437c1.804687.417969 3.648437.628906 5.496093.632813 9.339844-.007813 17.824219-5.429688 21.753907-13.902344 3.925781-8.472656 2.585937-18.453125-3.441407-25.585937l-34.207031-40.328126c-9.273438-10.882812-21.785156-18.515624-35.703125-21.78125l-55.203125-13.601562-98.398438-175.199219c-1.101562-1.964843-2.980468-3.375-5.175781-3.878906l-39.199219-9.066406c-2.675781-.613281-5.480468.1875-7.429687 2.121093-1.949219 1.9375-2.769531 4.734376-2.171875 7.414063l33.351562 149.273437-102.847656-25.367187-32.488281-103.601563c-.847656-2.707031-3.070313-4.761718-5.839844-5.398437l-31.375-7.28125c-2.402343-.554687-4.925781.027344-6.839843 1.582031-1.914063 1.550782-3.007813 3.898438-2.960938 6.363282l1.730469 89.167968-29.128907-7.199218c-3.441406-.847657-7.023437.671874-8.8125 3.730468-1.789062 3.054688-1.355468 6.925782 1.066407 9.507813l27.953125 29.761719-44.246094 63.34375c-1.5234375 2.183593-1.859375 4.980468-.894531 7.464843.960937 2.480469 3.097656 4.324219 5.691406 4.910157zm367.832032 104.207031c-4.417969 0-8-3.582031-8-8s3.582031-8 8-8c4.417968 0 8 3.582031 8 8s-3.582032 8-8 8zm-311.558594-296.472656 27.742187 88.519531-43.070312-9.953125-1.601563-82.480469zm80.199218 320-23.40625-5.40625 105.207032-131.648438 87.289062 20.167969zm54.046876-340.535157 23.410156 5.40625 89.289062 159.039063-80.378906-19.804687zm185.488281 198.871094c10.605469 2.476563 20.136719 8.285156 27.203125 16.574219l6.476562 7.640625-49.695312-11.496094-3.605469 15.585938 70.644531 16.328125 10.402344 12.296875c1.628906 1.917968 2.261719 4.492187 1.703125 6.949218-.472656 2.066407-1.761719 3.855469-3.566406 4.960938-1.828125 1.136719-4.035157 1.5-6.128907 1.007812l-120.59375-27.886718 20.707032-14.320313c2.621094-1.796875 3.929687-4.976562 3.335937-8.097656s-2.980469-5.597656-6.082031-6.304687l-86.304688-19.902344-23.535156-5.441406c-2.996094-.691407-6.125.398437-8.046875 2.800781l-19.007812 23.777343-66.449219-15.359374c-19.652344-6.320313-37.609375-17.027344-52.511719-31.3125l24.078125-16.730469c2.625-1.796875 3.929688-4.980469 3.332032-8.105469-.601563-3.121094-2.996094-5.59375-6.097657-6.292969l-62.832031-14.464843c-.527344-.101563-1.0625-.144532-1.601562-.128907l-9.597657-10.277343zm-344.878907-60.984375 39.921876 9.222657-70.898438 49.304687-8.542969-1.976563zm424.703126 307.121094h-480v-16h480zm0 0" fill="url(#a)"/></svg>
    </span>
        <mat-form-field>
          <input
            type="text"
            placeholder="Choose city"
            name="to"
            aria-label="Number"
            matInput
            formControlName="to"
            [matAutocomplete]="auto"
          />
          <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
            <mat-option *ngFor="let option of toChoices" [value]="option">
              {{option}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>

      </div>
      <div *ngIf="passengersData.length > 0 " formArrayName="passengersData" class="passengersData" >
        <h3>Passengers</h3>
        <div class="row">
        <div *ngFor="let passenger of passengersData.controls; let i = index" class="col-lg-6">
          <h5 class="font-weight-bold">passenger: {{ i + 1 }}</h5>

            <div [formGroupName]="i" class="row">
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="passangerFirstName" class="col-sm-4 col-form-label">First Name</label>
                  <div class="col-sm-8">
                    <div class="d-flex flex-column">
                      <input type="text" class="form-control" formControlName="firstName" id="passangerFirstName"  placeholder="First Name">
                    </div>
                  </div>
                </div>
                <div *ngIf="passenger.get('firstName').touched&&!passenger.get('firstName').valid" class="invalid-feedback">required</div>
                <div class="data-con">
                  <label>date</label>
                  <mat-form-field class="date_inp">
                    <input matInput [matDatepicker]="picker"  formControlName="birthDay" placeholder="Choose a date">
                    <div *ngIf="passenger.get('birthDay').touched&&!passenger.get('birthDay').valid" class="invalid-feedback">required</div>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker startView="year" [startAt]="startDate"></mat-datepicker>
                  </mat-form-field>
                </div>
              </div>

              <div class="col-lg-6">
                <div class="form-group   ">
                  <label for="passangerLastName" class="col-sm-4 col-form-label">Last Name</label>
                  <div class="col-sm-8">
                    <div class="d-flex flex-column">
                      <input type="text" class="form-control" formControlName="lastName"  name="passangerLastName"
                             id="passangerLastName"  placeholder="last Name">
                    </div>
                  </div>
                </div>
                <div *ngIf="passenger.get('lastName').touched && !passenger.get('lastName')" class="invalid-feedback">required</div>

                <div>
                  <div class="form-group   ">
                    <label for="phone" class="col-sm-4 col-form-label">phone</label>
                    <div class="col-sm-8">
                      <div class="d-flex flex-column">
                        <input type="text" class="form-control" formControlName="phone"  name="phone"
                               id="phone"  placeholder="phone">

                      </div>

                    </div>
                  </div>
                  <div *ngIf="!passenger.get('phone').valid && passenger.get('phone').touched" class="invalid-feedback">required and must start with 0</div>

                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
      <button type="submit" class="btn col-lg-6" [disabled]="!form.valid">submit</button>
    </form>

  </div>

